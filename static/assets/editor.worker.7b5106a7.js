import{SimpleWorkerServer as i}from"../base/common/worker/simpleWorker.js";import{EditorSimpleWorker as e}from"./common/services/editorSimpleWorker.js";import{EditorWorkerHost as o}from"./common/services/editorWorkerHost.js";let initialized=!1;export function initialize(s){if(initialized)return;initialized=!0;let r=new i(i=>{globalThis.postMessage(i)},i=>new e(o.getChannel(i),s));globalThis.onmessage=i=>{r.onmessage(i.data)}}globalThis.onmessage=i=>{initialized||initialize(null)};